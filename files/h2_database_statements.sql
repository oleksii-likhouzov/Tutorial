;
CREATE USER IF NOT EXISTS SA SALT 'f9a7bde779650dc9' HASH '46d3b815b8c4918a64b95bd54cd7b0f22cf265e538f13b1f82a5ebe820d1b48f' ADMIN;
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_04FD2D56_11A3_422E_AC8D_95C5D7736D33 START WITH 4 BELONGS_TO_TABLE;
CREATE CACHED TABLE PUBLIC.TRAINERS(
    ID INT NOT NULL,
    NAME VARCHAR(255),
    EMAIL VARCHAR(255)
);
ALTER TABLE PUBLIC.TRAINERS ADD CONSTRAINT PUBLIC.CONSTRAINT_7 PRIMARY KEY(ID);
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.TRAINERS;
INSERT INTO PUBLIC.TRAINERS(ID, NAME, EMAIL) VALUES
(1, STRINGDECODE('\u0421\u0435\u0440\u0433\u0435\u0439 \u041f\u0435\u0442\u0440\u043e\u0432'), 'sergey@petrov.ru'),
(2, STRINGDECODE('\u0418\u0432\u0430\u043d \u0414\u043e\u043d\u043e\u0432'), 'ivan@gmail.com');
CREATE CACHED TABLE PUBLIC.COURSES(
    ID INT NOT NULL,
    NAME VARCHAR(255),
    TRAINER_ID INT,
    COURSE_LENGTH INT
);
ALTER TABLE PUBLIC.COURSES ADD CONSTRAINT PUBLIC.CONSTRAINT_6 PRIMARY KEY(ID);
-- 3 +/- SELECT COUNT(*) FROM PUBLIC.COURSES;
INSERT INTO PUBLIC.COURSES(ID, NAME, TRAINER_ID, COURSE_LENGTH) VALUES
(1, STRINGDECODE('\u0411\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445'), 1, 3),
(2, 'Java', 2, 10),
(3, 'JDBC', 2, 2);
CREATE CACHED TABLE PUBLIC.GROUPS(
    ID INT NOT NULL,
    NAME VARCHAR(255),
    START_DATE DATE,
    FINISH_DATE DATE
);
ALTER TABLE PUBLIC.GROUPS ADD CONSTRAINT PUBLIC.CONSTRAINT_7D PRIMARY KEY(ID);
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.GROUPS;
INSERT INTO PUBLIC.GROUPS(ID, NAME, START_DATE, FINISH_DATE) VALUES
(1, STRINGDECODE('\u0414\u043d\u0435\u043f\u0440'), DATE '2014-02-01', DATE '2014-03-31'),
(2, STRINGDECODE('\u041f\u0438\u0442\u0435\u0440'), DATE '2014-03-01', DATE '2014-04-30');
CREATE CACHED TABLE PUBLIC.GROUPS_COURSES(
    ID INT NOT NULL,
    GROUP_ID INT,
    COURSE_ID INT,
    START_DATE DATE
);
ALTER TABLE PUBLIC.GROUPS_COURSES ADD CONSTRAINT PUBLIC.CONSTRAINT_3 PRIMARY KEY(ID);
-- 4 +/- SELECT COUNT(*) FROM PUBLIC.GROUPS_COURSES;
INSERT INTO PUBLIC.GROUPS_COURSES(ID, GROUP_ID, COURSE_ID, START_DATE) VALUES
(1, 1, 3, DATE '2014-02-20'),
(2, 2, 3, DATE '2014-03-25'),
(3, 1, 1, DATE '2014-02-19'),
(4, 1, 2, DATE '2014-02-03');
CREATE CACHED TABLE PUBLIC.STUDENTS(
    ID INT NOT NULL,
    NAME VARCHAR(255),
    EMAIL VARCHAR(255),
    GROUP_ID INT
);
ALTER TABLE PUBLIC.STUDENTS ADD CONSTRAINT PUBLIC.CONSTRAINT_9 PRIMARY KEY(ID);
-- 4 +/- SELECT COUNT(*) FROM PUBLIC.STUDENTS;
INSERT INTO PUBLIC.STUDENTS(ID, NAME, EMAIL, GROUP_ID) VALUES
(1, 'Andrew', 'andrew@mail.ua', NULL),
(2, 'John', 'john@mail.ua', NULL),
(10, 'Gottor', 'gottor@fg.ua', NULL),
(20, 'Jecson', 'jecson@fg.ua', NULL);
CREATE CACHED TABLE PUBLIC.MARKS(
    ID BIGINT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_04FD2D56_11A3_422E_AC8D_95C5D7736D33) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_04FD2D56_11A3_422E_AC8D_95C5D7736D33,
    STUDENT_ID INT,
    COURSE_ID INT,
    MARK INT,
    COMMENT VARCHAR(255)
);
ALTER TABLE PUBLIC.MARKS ADD CONSTRAINT PUBLIC.CONSTRAINT_4 PRIMARY KEY(ID);
-- 3 +/- SELECT COUNT(*) FROM PUBLIC.MARKS;
INSERT INTO PUBLIC.MARKS(ID, STUDENT_ID, COURSE_ID, MARK, COMMENT) VALUES
(1, 1, NULL, 5, NULL),
(2, 1, NULL, 4, NULL),
(3, 2, NULL, 5, NULL);
CREATE CACHED TABLE PUBLIC.REF_ACCOUNT_TYPE(
    ID INT NOT NULL,
    CODE VARCHAR(255),
    NAME VARCHAR(255)
);
ALTER TABLE PUBLIC.REF_ACCOUNT_TYPE ADD CONSTRAINT PUBLIC.CONSTRAINT_8 PRIMARY KEY(ID);
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.REF_ACCOUNT_TYPE;
INSERT INTO PUBLIC.REF_ACCOUNT_TYPE(ID, CODE, NAME) VALUES
(1, 'S', 'Saving'),
(2, 'C', 'Checking');
CREATE CACHED TABLE PUBLIC.REF_GENDER_TYPE(
    ID INT NOT NULL,
    CODE VARCHAR(255),
    NAME VARCHAR(255)
);
ALTER TABLE PUBLIC.REF_GENDER_TYPE ADD CONSTRAINT PUBLIC.CONSTRAINT_77 PRIMARY KEY(ID);
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.REF_GENDER_TYPE;
INSERT INTO PUBLIC.REF_GENDER_TYPE(ID, CODE, NAME) VALUES
(1, 'MALE', 'Mr'),
(2, 'FEMALE', 'Ms');
CREATE CACHED TABLE PUBLIC.REF_CITY(
    ID INT NOT NULL,
    NAME VARCHAR(255)
);
ALTER TABLE PUBLIC.REF_CITY ADD CONSTRAINT PUBLIC.CONSTRAINT_4F PRIMARY KEY(ID);
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.REF_CITY;
INSERT INTO PUBLIC.REF_CITY(ID, NAME) VALUES
(1, STRINGDECODE('\u041a\u0438\u0435\u0432')),
(2, STRINGDECODE('\u041f\u0430\u0440\u0438\u0436'));
CREATE CACHED TABLE PUBLIC.T_CLIENT(
    ID INT NOT NULL,
    NAME VARCHAR(255),
    INITIAL_OVERDRAFT DECIMAL(20, 2),
    GENDER_TYPE_ID INT,
    EMAIL VARCHAR2(255),
    PHONE VARCHAR2(255),
    CITY_ID INT
);
ALTER TABLE PUBLIC.T_CLIENT ADD CONSTRAINT PUBLIC.CONSTRAINT_2 PRIMARY KEY(ID);
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.T_CLIENT;
INSERT INTO PUBLIC.T_CLIENT(ID, NAME, INITIAL_OVERDRAFT, GENDER_TYPE_ID, EMAIL, PHONE, CITY_ID) VALUES
(1, 'First', 0.00, 1, 'first@cli.ua', '-470', 1),
(2, 'Second', 100.00, 2, 'second@cli.fr', '8-746-2929-22', 2);
CREATE CACHED TABLE PUBLIC.T_ACCOUNT(
    ID INT NOT NULL,
    ACCOUNT_TYPE_ID INT,
    CLIENT_ID INT,
    IS_PRIMARY BOOLEAN,
    BALANCE DECIMAL(20, 2),
    OVERDRAFT DECIMAL(20, 2)
);
ALTER TABLE PUBLIC.T_ACCOUNT ADD CONSTRAINT PUBLIC.CONSTRAINT_1 PRIMARY KEY(ID);
-- 4 +/- SELECT COUNT(*) FROM PUBLIC.T_ACCOUNT;
INSERT INTO PUBLIC.T_ACCOUNT(ID, ACCOUNT_TYPE_ID, CLIENT_ID, IS_PRIMARY, BALANCE, OVERDRAFT) VALUES
(1, 1, 1, TRUE, 100.00, 0.00),
(2, 1, 1, FALSE, 20.00, 0.00),
(3, 2, 1, FALSE, -20.00, 30.00),
(4, 2, 2, TRUE, 60.00, 70.00);
CREATE CACHED TABLE PUBLIC.NAMES(
    ID INTEGER NOT NULL,
    NAME VARCHAR(255)
);
ALTER TABLE PUBLIC.NAMES ADD CONSTRAINT PUBLIC.CONSTRAINT_46 PRIMARY KEY(ID);
-- 7 +/- SELECT COUNT(*) FROM PUBLIC.NAMES;
INSERT INTO PUBLIC.NAMES(ID, NAME) VALUES
(1, 'Andrew'),
(2, 'George'),
(3, 'Maria'),
(4, 'Vladimir'),
(5, 'Petr'),
(6, 'Oxana'),
(7, 'Ruslan');
ALTER TABLE PUBLIC.T_ACCOUNT ADD CONSTRAINT PUBLIC.CONSTRAINT_17 FOREIGN KEY(ACCOUNT_TYPE_ID) REFERENCES PUBLIC.REF_ACCOUNT_TYPE(ID) NOCHECK;
ALTER TABLE PUBLIC.GROUPS_COURSES ADD CONSTRAINT PUBLIC.CONSTRAINT_33D FOREIGN KEY(COURSE_ID) REFERENCES PUBLIC.COURSES(ID) NOCHECK;
ALTER TABLE PUBLIC.T_CLIENT ADD CONSTRAINT PUBLIC.CONSTRAINT_2DF FOREIGN KEY(CITY_ID) REFERENCES PUBLIC.REF_CITY(ID) NOCHECK;
ALTER TABLE PUBLIC.MARKS ADD CONSTRAINT PUBLIC.CONSTRAINT_45 FOREIGN KEY(COURSE_ID) REFERENCES PUBLIC.COURSES(ID) NOCHECK;
ALTER TABLE PUBLIC.GROUPS_COURSES ADD CONSTRAINT PUBLIC.CONSTRAINT_33 FOREIGN KEY(GROUP_ID) REFERENCES PUBLIC.GROUPS(ID) NOCHECK;
ALTER TABLE PUBLIC.T_ACCOUNT ADD CONSTRAINT PUBLIC.CONSTRAINT_17A FOREIGN KEY(CLIENT_ID) REFERENCES PUBLIC.T_CLIENT(ID) NOCHECK;
ALTER TABLE PUBLIC.COURSES ADD CONSTRAINT PUBLIC.CONSTRAINT_63 FOREIGN KEY(TRAINER_ID) REFERENCES PUBLIC.TRAINERS(ID) NOCHECK;
ALTER TABLE PUBLIC.T_CLIENT ADD CONSTRAINT PUBLIC.CONSTRAINT_2D FOREIGN KEY(GENDER_TYPE_ID) REFERENCES PUBLIC.REF_GENDER_TYPE(ID) NOCHECK;
